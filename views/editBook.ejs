<%- include('partials/header.ejs'); -%>

<h1>Edit Book</h1>
<form action="/update-book/<%= book.id %>" method="POST">
  <label for="title">Title:</label>
  <input type="text" id="title" name="title" value="<%= book.title %>" required>
  
  <label for="author">Author:</label>
  <input type="text" id="author" name="author" value="<%= book.author %>">
  
  <label for="rating">Rating (1-5):</label>
  <input type="number" id="rating" name="rating" min="1" max="5"  value="<%= book.rating %>" required>
  
  <label for="review">Review:</label>
  <textarea id="review" name="review"><%= book.review %></textarea>
  
  <label for="date_read">Date Read:</label>
  <input type="date" id="date_read" name="date_read" value="<%= book.date_read ? new Date(book.date_read).toISOString().slice(0, 10) : '' %>">

  <label for="isbn">ISBN:</label>
  <input type="text" id="isbn" name="isbn" pattern="^(97(8|9))?\d{9}(\d|X)$" title="Enter a valid ISBN (10 or 13 digits)">
  
  <button type="submit">Update Book</button>
</form>

<%- include('partials/footer.ejs'); -%>
